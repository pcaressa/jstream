<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>jstream: jstream.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">jstream
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">jstream.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;setjmp.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for jstream.h:</div>
<div class="dyncontent">
<div class="center"><img src="jstream_8h__incl.png" border="0" usemap="#ajstream_8h" alt=""/></div>
<map name="ajstream_8h" id="ajstream_8h">
<area shape="rect" title=" " alt="" coords="52,5,139,32"/>
<area shape="rect" title=" " alt="" coords="5,80,87,107"/>
<area shape="rect" title=" " alt="" coords="111,80,178,107"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="jstream_8h__dep__incl.png" border="0" usemap="#ajstream_8hdep" alt=""/></div>
<map name="ajstream_8hdep" id="ajstream_8hdep">
<area shape="rect" title=" " alt="" coords="70,5,157,32"/>
<area shape="rect" href="jsondump_8c.html" title=" " alt="" coords="5,80,104,107"/>
<area shape="rect" href="jstream_8c.html" title=" " alt="" coords="129,80,215,107"/>
</map>
</div>
</div>
<p><a href="jstream_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structjstream__param__s.html">jstream_param_s</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a519b778285205c898b57839ab698552c"><td class="memItemLeft" align="right" valign="top">typedef unsigned *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jstream_8h.html#a519b778285205c898b57839ab698552c">jstream_t</a></td></tr>
<tr class="separator:a519b778285205c898b57839ab698552c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77f67557fbd0ded3d1348ccda5fe907d"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structjstream__param__s.html">jstream_param_s</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jstream_8h.html#a77f67557fbd0ded3d1348ccda5fe907d">jstream_param_t</a></td></tr>
<tr class="separator:a77f67557fbd0ded3d1348ccda5fe907d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a06fc87d81c62e9abb8790b6e5713c55b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<a class="el" href="jstream_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba5203071ca85e00df6bf2526855b6df0d">ERR_NONE</a>
, <a class="el" href="jstream_8h.html#a06fc87d81c62e9abb8790b6e5713c55bafb88c5fa6e7d51074ec36bd4578e03a0">ERR_MEMORY</a>
, <a class="el" href="jstream_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba95c25d2aff88c290efaea23fe09bd320">ERR_VALUE</a>
, <a class="el" href="jstream_8h.html#a06fc87d81c62e9abb8790b6e5713c55baa5adfa848230154f452ac275e369df0a">ERR_NULL</a>
, <br />
&#160;&#160;<a class="el" href="jstream_8h.html#a06fc87d81c62e9abb8790b6e5713c55baa71eb1c034bbaed6d4180b7cf98374b9">ERR_FALSE</a>
, <a class="el" href="jstream_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba62b407a8fd2fa2efc761b9690eb9aa2c">ERR_TRUE</a>
, <a class="el" href="jstream_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba6c092b85a9ee9f0d7cdf3640bfb70980">ERR_NUMBER</a>
, <a class="el" href="jstream_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba374f19af6433f0d35370aa005836f10b">ERR_NUMBER_TOO_LONG</a>
, <br />
&#160;&#160;<a class="el" href="jstream_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba86a8851bfba1b1a32a860f361b4fe3cb">ERR_EOS_INSIDE_STRING</a>
, <a class="el" href="jstream_8h.html#a06fc87d81c62e9abb8790b6e5713c55bae629688854614b1d9b5913c1e6ba8f22">ERR_COMMA</a>
, <a class="el" href="jstream_8h.html#a06fc87d81c62e9abb8790b6e5713c55babe0ef53d5181d92cb2ff7d2669336a35">ERR_COLON</a>
, <a class="el" href="jstream_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba15e6731c09ab438ab1defa78c018d4f4">ERR_CLOSED_BRACKET</a>
<br />
 }</td></tr>
<tr class="separator:a06fc87d81c62e9abb8790b6e5713c55b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2a41d11de1a5772bf8d9f67cb37f84ec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="jstream_8h.html#a519b778285205c898b57839ab698552c">jstream_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jstream_8h.html#a2a41d11de1a5772bf8d9f67cb37f84ec">jstream</a> (<a class="el" href="jstream_8h.html#a77f67557fbd0ded3d1348ccda5fe907d">jstream_param_t</a> p)</td></tr>
<tr class="separator:a2a41d11de1a5772bf8d9f67cb37f84ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a789cb9083c811ec662a4f62a44abaae8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="jstream_8h.html#a519b778285205c898b57839ab698552c">jstream_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="jstream_8h.html#a789cb9083c811ec662a4f62a44abaae8">jstream_dump</a> (FILE *<a class="el" href="jsondump_8c.html#a3efb0e1a16208deecbd84c15401f7cf8">f</a>, <a class="el" href="jstream_8h.html#a519b778285205c898b57839ab698552c">jstream_t</a> obj)</td></tr>
<tr class="separator:a789cb9083c811ec662a4f62a44abaae8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a77f67557fbd0ded3d1348ccda5fe907d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77f67557fbd0ded3d1348ccda5fe907d">&#9670;&nbsp;</a></span>jstream_param_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structjstream__param__s.html">jstream_param_s</a> * <a class="el" href="jstream_8h.html#a77f67557fbd0ded3d1348ccda5fe907d">jstream_param_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Structure used to represent in bytes parsed values from a stream. </p>

</div>
</div>
<a id="a519b778285205c898b57839ab698552c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a519b778285205c898b57839ab698552c">&#9670;&nbsp;</a></span>jstream_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef unsigned* <a class="el" href="jstream_8h.html#a519b778285205c898b57839ab698552c">jstream_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A jstream is an array of unsigned numbers: strings and doubles are casted (eg if sizeof(unsigned) == 4 then a string of n characters takes (n+1) / 4 items (+1 because of the ending '\0'), while a double takes 2 items, etc). </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a06fc87d81c62e9abb8790b6e5713c55b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06fc87d81c62e9abb8790b6e5713c55b">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Error codes: they are returned in the referenced parameter err by the jstream function. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a06fc87d81c62e9abb8790b6e5713c55ba5203071ca85e00df6bf2526855b6df0d"></a>ERR_NONE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a06fc87d81c62e9abb8790b6e5713c55bafb88c5fa6e7d51074ec36bd4578e03a0"></a>ERR_MEMORY&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a06fc87d81c62e9abb8790b6e5713c55ba95c25d2aff88c290efaea23fe09bd320"></a>ERR_VALUE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a06fc87d81c62e9abb8790b6e5713c55baa5adfa848230154f452ac275e369df0a"></a>ERR_NULL&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a06fc87d81c62e9abb8790b6e5713c55baa71eb1c034bbaed6d4180b7cf98374b9"></a>ERR_FALSE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a06fc87d81c62e9abb8790b6e5713c55ba62b407a8fd2fa2efc761b9690eb9aa2c"></a>ERR_TRUE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a06fc87d81c62e9abb8790b6e5713c55ba6c092b85a9ee9f0d7cdf3640bfb70980"></a>ERR_NUMBER&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a06fc87d81c62e9abb8790b6e5713c55ba374f19af6433f0d35370aa005836f10b"></a>ERR_NUMBER_TOO_LONG&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a06fc87d81c62e9abb8790b6e5713c55ba86a8851bfba1b1a32a860f361b4fe3cb"></a>ERR_EOS_INSIDE_STRING&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a06fc87d81c62e9abb8790b6e5713c55bae629688854614b1d9b5913c1e6ba8f22"></a>ERR_COMMA&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a06fc87d81c62e9abb8790b6e5713c55babe0ef53d5181d92cb2ff7d2669336a35"></a>ERR_COLON&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a06fc87d81c62e9abb8790b6e5713c55ba15e6731c09ab438ab1defa78c018d4f4"></a>ERR_CLOSED_BRACKET&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a2a41d11de1a5772bf8d9f67cb37f84ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a41d11de1a5772bf8d9f67cb37f84ec">&#9670;&nbsp;</a></span>jstream()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="jstream_8h.html#a519b778285205c898b57839ab698552c">jstream_t</a> jstream </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="jstream_8h.html#a77f67557fbd0ded3d1348ccda5fe907d">jstream_param_t</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Parse a json stream: it the get field of the structure *p to be assigne to a function (pointer) returning the next character read from the stream, or a negative value in case of end or error. Return the following values inside the structure *p: obj = pointer to the memory area containing data size = length of such area in bytes error = error code (0 meaning "no error") clast = last item got from the stream and that follows the parsed json value. The address obj is also returned as value from the function (in case of error it is NULL). Warning: it is the caller responsibility to deallocate p-&gt;obj once it is no longer needed, via free(p-&gt;obj). </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="jstream_8h_a2a41d11de1a5772bf8d9f67cb37f84ec_cgraph.png" border="0" usemap="#ajstream_8h_a2a41d11de1a5772bf8d9f67cb37f84ec_cgraph" alt=""/></div>
<map name="ajstream_8h_a2a41d11de1a5772bf8d9f67cb37f84ec_cgraph" id="ajstream_8h_a2a41d11de1a5772bf8d9f67cb37f84ec_cgraph">
<area shape="rect" title=" " alt="" coords="5,88,80,114"/>
<area shape="rect" href="jstream_8c.html#a11a2d207c1d341d1ce9aec362ea7443c" title=" " alt="" coords="486,138,597,165"/>
<area shape="rect" href="jstream_8c.html#a49bef1f78b126fde5ab39422dd139ed4" title=" " alt="" coords="128,164,247,190"/>
<area shape="rect" href="jstream_8c.html#a3e20af9cb229d0f7930bc1518ae10143" title=" " alt="" coords="302,37,421,64"/>
<area shape="rect" href="jstream_8c.html#a6811923990b38bb34f1e13e7e64298d0" title=" " alt="" coords="304,88,419,114"/>
<area shape="rect" href="jstream_8c.html#a5853473940868d9b512979a218d8aa02" title=" " alt="" coords="308,138,415,165"/>
<area shape="rect" href="jstream_8c.html#a6d9ffef55f83f304e72d208f8d01c04f" title=" " alt="" coords="295,189,428,216"/>
<area shape="rect" href="jstream_8c.html#aea4389605718b827bb646527c0aff89f" title=" " alt="" coords="300,240,423,266"/>
<area shape="rect" href="jstream_8c.html#a44acc74ed4f6c52f96011d1f9601a5f9" title=" " alt="" coords="301,341,421,368"/>
<area shape="rect" href="jstream_8c.html#a0b5feb2f2e0525f803132b89087963a2" title=" " alt="" coords="307,290,416,317"/>
<area shape="rect" href="jstream_8c.html#aaad7766044db8bf56e34216c586a93ff" title=" " alt="" coords="476,189,607,216"/>
<area shape="rect" href="jstream_8c.html#abfe9451121d5e903a9e56df64b440149" title=" " alt="" coords="484,341,599,368"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="jstream_8h_a2a41d11de1a5772bf8d9f67cb37f84ec_icgraph.png" border="0" usemap="#ajstream_8h_a2a41d11de1a5772bf8d9f67cb37f84ec_icgraph" alt=""/></div>
<map name="ajstream_8h_a2a41d11de1a5772bf8d9f67cb37f84ec_icgraph" id="ajstream_8h_a2a41d11de1a5772bf8d9f67cb37f84ec_icgraph">
<area shape="rect" title=" " alt="" coords="108,5,183,32"/>
<area shape="rect" href="jsondump_8c.html#a9a2a04027b3d4f8fb9aeadb1b5ea720b" title=" " alt="" coords="5,5,60,32"/>
</map>
</div>

</div>
</div>
<a id="a789cb9083c811ec662a4f62a44abaae8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a789cb9083c811ec662a4f62a44abaae8">&#9670;&nbsp;</a></span>jstream_dump()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="jstream_8h.html#a519b778285205c898b57839ab698552c">jstream_t</a> jstream_dump </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="jstream_8h.html#a519b778285205c898b57839ab698552c">jstream_t</a>&#160;</td>
          <td class="paramname"><em>obj</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Dump an jstream_t object to a text file. Return the address of the first item following the object in the array obj. </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="jstream_8h_a789cb9083c811ec662a4f62a44abaae8_cgraph.png" border="0" usemap="#ajstream_8h_a789cb9083c811ec662a4f62a44abaae8_cgraph" alt=""/></div>
<map name="ajstream_8h_a789cb9083c811ec662a4f62a44abaae8_cgraph" id="ajstream_8h_a789cb9083c811ec662a4f62a44abaae8_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,124,32"/>
<area shape="rect" href="jstream_8c.html#abfe9451121d5e903a9e56df64b440149" title=" " alt="" coords="172,5,287,32"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="jstream_8h_a789cb9083c811ec662a4f62a44abaae8_icgraph.png" border="0" usemap="#ajstream_8h_a789cb9083c811ec662a4f62a44abaae8_icgraph" alt=""/></div>
<map name="ajstream_8h_a789cb9083c811ec662a4f62a44abaae8_icgraph" id="ajstream_8h_a789cb9083c811ec662a4f62a44abaae8_icgraph">
<area shape="rect" title=" " alt="" coords="108,5,227,32"/>
<area shape="rect" href="jsondump_8c.html#a9a2a04027b3d4f8fb9aeadb1b5ea720b" title=" " alt="" coords="5,5,60,32"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
